<!DOCTYPE html>
<html lang="en">
{% include 'head.html' %}

<body>
    {% include 'header.html' %}
    <section id="product">
        <div class="images">
            <div class="main-img">
                <img id="main-img" src="{{ product.images[0] }}" alt="{{ product.name }}">
                <svg onclick="imgBack()" class="left" xmlns="http://www.w3.org/2000/svg" width="65" height="65" viewBox="0 0 65 65" fill="none">
                    <path d="M0 32.5C0 50.4493 14.5507 65 32.5 65C50.4493 65 65 50.4493 65 32.5C65 14.5507 50.4493 0 32.5 0C14.5507 0 0 14.5507 0 32.5Z" fill="#D9D9D9" />
                    <path d="M38.6518 47.9762L41.3988 45.2292L28.6696 32.5L41.3988 19.7708L38.6518 17.0238L23.1756 32.5L38.6518 47.9762Z" fill="#1C1B1F" />
                </svg>
                <svg onclick="imgForward()" class="right" xmlns="http://www.w3.org/2000/svg" width="65" height="65" viewBox="0 0 65 65" fill="none">
                    <path
                        d="M65 32.5C65 50.4493 50.4493 65 32.5 65C14.5507 65 0 50.4493 0 32.5C0 14.5507 14.5507 0 32.5 0C50.4493 0 65 14.5507 65 32.5Z"
                        fill="#D9D9D9" />
                    <path
                        d="M26.3482 47.9762L23.6012 45.2292L36.3304 32.5L23.6012 19.7708L26.3482 17.0238L41.8244 32.5L26.3482 47.9762Z"
                        fill="#1C1B1F" />
                </svg>
            </div>
            <div id="others">
                <img onclick="setSelected(0)" class="selected" data-index="0" src="{{ product.images[0] }}" alt="">
                {% for image in product.images[1:4] %}
                    <img onclick="setSelected({{ product.images.index(image) }})" data-index="{{ product.images.index(image) }}" src="{{ image }}" alt="">
                {% endfor %}
                {% for image in product.images[4:] %}
                    <img onclick="setSelected({{ product.images.index(image) }})"  data-index="{{ product.images.index(image) }}" class="inactive" src="{{ image }}" alt="">
                {% endfor %}
            </div>
        </div>
        <div class="information">
            {% set sorted_sizes = product.sizes | sort %}
            <h1>{{ product.category }} {{ product.brand }}</h1>
            <div class="row">
                <div class="col">
                    <p>Product number: {{ product.id }}</p>
                    <p>Brand: {{ product.brand }}</p>
                    <p>Price: {{ product.price }}</p>
                </div>
                {% if sorted_sizes %}
                    <p class="instock">In stock</p>
                {% else %}
                    <p class="notinstock">Not in stock</p>
                {% endif %}
            </div>
            <div class="select-col">
                <div class="select">
                    <label for="size">Size:</label>
                    <select id="size" name="size" onchange="selectSize()">
                        {% if sorted_sizes %}
                            <option value="{{ sorted_sizes[0] }}" selected>{{ sorted_sizes[0] }}</option>
                        {% endif %}
                        {% for size in sorted_sizes[1:] %}
                            <option value="{{ size }}">{{ size }}</option>
                        {% endfor %}
                    </select>
                    <svg class="down-arrow" xmlns="http://www.w3.org/2000/svg" width="24" height="14" viewBox="0 0 24 14" fill="none">
                        <path
                            d="M0.321533 2.1104L2.36278 -9.16136e-07L11.8215 9.77919L21.2803 -8.92259e-08L23.3215 2.1104L11.8215 14L0.321533 2.1104Z"
                            fill="#F1F1F1" />
                    </svg>
                </div>
                <div class="select">
                    <label for="quantity">Quantity:</label>
                    <select class="quantity" id="quantity-{{ sorted_sizes[0] }}" name="quantity">
                        {% for n in range(product.max_quantities[sorted_sizes[0] | string]) %}
                            <option value="{{ n+1 }}">{{ n+1 }}</option>
                        {% endfor %}
                    </select>
                    {% for size in sorted_sizes[1:] %}
                        <select class="quantity" disabled style="display: none;" id="quantity-{{ size }}" name="quantity">
                            {% for n in range(product.max_quantities[size | string]) %}
                                <option value="{{ n+1 }}">{{ n+1 }}</option>
                            {% endfor %}
                        </select>
                    {% endfor %}
                    <svg class="down-arrow" xmlns="http://www.w3.org/2000/svg" width="24" height="14" viewBox="0 0 24 14" fill="none">
                        <path
                            d="M0.321533 2.1104L2.36278 -9.16136e-07L11.8215 9.77919L21.2803 -8.92259e-08L23.3215 2.1104L11.8215 14L0.321533 2.1104Z"
                            fill="#F1F1F1" />
                    </svg>
                </div>
            </div>
            <button {% if not sorted_sizes %}disabled class="inactive" {% endif %} id="cart-button-{{ product['id'] }}" onclick="addToCart('{{ product['id'] }}')">Add to cart</button>
        </div>
    </section>
    {% include 'newsletter.html' %}
    {% include 'footer.html' %}
    <script src="{{ url_for('static', filename='js/shop.js') }}"></script>
</body>
</html>